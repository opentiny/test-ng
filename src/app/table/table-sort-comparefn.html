<div class="containerStyle">
  <h3>描述</h3>
  <p>可使用tiHeadSort组件的compareFn接口来自定义所在列的排序规则。</p>
  <p class="demo-text-warn">
    注意：使用 tiOverflow 组件，请导入 TiOverflowModule。
  </p>
  <h3>示例</h3>
  <ti-table
    [(displayedData)]="displayed"
    [srcData]="srcData"
    [columns]="columns"
  >
    <table>
      <thead>
        <tr>
          <!--当表头有排序图标或漏斗排序图标，文本title需要显示不下出省略号及tip时需使用ti-cell-text组件；
                        ti-head-sort为排序图标-->
          <th>
            <ti-cell-text
              >{{columns[0].title}} （此列用了自定义排序规则）</ti-cell-text
            >
            <!-- sort接口为排序的属性名(字段，例如‘firstName’)-->
            <!-- compareFn对比函数，自定义排序规则-->
            <ti-head-sort
              [sortKey]="columns[0].sortKey"
              [compareFn]="columns[0].compareFn"
            ></ti-head-sort>
          </th>
          <th>
            <ti-cell-text>{{columns[1].title}}</ti-cell-text>
            <ti-head-sort [sortKey]="columns[1].sortKey"></ti-head-sort>
          </th>
          <th>
            <ti-cell-text
              >{{columns[2].title}} （此列用了自定义排序规则）</ti-cell-text
            >
            <!-- asc接口指定初始排序是升序(true)还是降序(false)-->
            <ti-head-sort
              [sortKey]="columns[2].sortKey"
              [asc]="columns[2].asc"
              [compareFn]="columns[2].compareFn"
            ></ti-head-sort>
          </th>
          <th>
            <ti-cell-text>{{columns[3].title}}</ti-cell-text>
            <ti-head-sort [sortKey]="columns[3].sortKey"></ti-head-sort>
          </th>
          <!--该列无法排序，因为未做ti-head-sort设置-->
          <th>{{columns[4].title}}</th>
        </tr>
      </thead>
      <tbody>
        <!--注意:ngFor中的displayed数据与displayedData传入的数据一致, 初始化设置为[]即可-->
        <tr *ngFor="let row of displayed">
          <td tiOverflow>{{row.firstName}}</td>
          <td tiOverflow>{{row.lastName}}</td>
          <td tiOverflow>{{row.age}}</td>
          <td tiOverflow>{{row.balance}}</td>
          <td tiOverflow>{{row.email}}</td>
        </tr>
      </tbody>
    </table>
  </ti-table>
</div>
